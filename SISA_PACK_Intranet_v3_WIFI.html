<!DOCTYPE html>
<html lang="fr" data-theme="light">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>SISA — Pack Intranet v3 (Wi‑Fi inclus)</title>
<meta name="description" content="Pack HTML autonome pour l’INTRANET SISA avec timeline, déploiement, Wi‑Fi (250 pieds), liste d’achats chiffrée, logiciels, fournisseurs. Light/Dark, hors-ligne.">
<style>
  :root{
    --bg:#0b0d12; --panel:#121622; --ink:#e9eef9; --muted:#a7b0c3;
    --brand:#0d83ff; --accent:#29a3ff; --ok:#17c964; --warn:#f5a524; --bad:#f31260;
    --shadow:0 10px 30px rgba(0,0,0,.45); --radius:16px; --maxw:1180px;
  }
  html[data-theme="light"]{
    --bg:#f7f9fc; --panel:#fff; --ink:#0b1220; --muted:#57607c;
    --shadow:0 10px 30px rgba(16,37,72,.12);
  }
  *{box-sizing:border-box} html,body{margin:0;padding:0}
  body{background:var(--bg);color:var(--ink);font:16px/1.6 system-ui, -apple-system, Segoe UI, Inter, Roboto, Arial}
  .wrap{max-width:var(--maxw);margin:auto;padding:26px}
  .hero{display:grid;gap:12px;padding:22px;border-radius:20px;background:var(--panel);box-shadow:var(--shadow);border:1px solid rgba(100,120,160,.12)}
  .hero h1{margin:0;font-size:clamp(26px,4vw,44px)}
  .muted{color:var(--muted)}
  .toolbar{display:flex;gap:10px;align-items:center;flex-wrap:wrap;justify-content:space-between;margin:12px 0}
  .switch{position:relative;width:48px;height:28px;border-radius:999px;background:rgba(120,140,170,.35);border:none;cursor:pointer}
  .switch::after{content:"";position:absolute;top:3px;left:3px;width:22px;height:22px;border-radius:50%;background:#fff;box-shadow:0 2px 6px rgba(0,0,0,.25)}
  html[data-theme="dark"] .switch{background:rgba(70,90,120,.7)}
  html[data-theme="dark"] .switch::after{left:23px}
  nav.tabs{display:flex;gap:10px;flex-wrap:wrap}
  nav.tabs a{display:inline-block;padding:10px 12px;border-radius:12px;text-decoration:none;border:1px solid rgba(100,120,160,.25);color:var(--ink);background:var(--panel)}
  nav.tabs a:hover{border-color:rgba(41,163,255,.6)}
  section.card{background:var(--panel);margin-top:16px;padding:18px;border-radius:16px;box-shadow:var(--shadow);border:1px solid rgba(100,120,160,.12)}
  h2{margin:0 0 10px 0}
  .grid-2{display:grid;gap:16px}
  @media(min-width:900px){.grid-2{grid-template-columns:1fr 1fr}}
  .grid-3{display:grid;gap:16px}
  @media(min-width:1100px){.grid-3{grid-template-columns:1fr 1fr 1fr}}
  .list{margin:6px 0 0 0;padding:0 0 0 20px}
  .pill{display:inline-block;padding:2px 8px;border-radius:999px;border:1px solid rgba(100,120,160,.35);font-size:.82rem}
  .ok{color:var(--ok);border-color:rgba(23,201,100,.45)}
  .warn{color:var(--warn);border-color:rgba(245,165,36,.45)}
  .bad{color:var(--bad);border-color:rgba(243,18,96,.45)}
  table{width:100%;border-collapse:separate;border-spacing:0}
  th,td{padding:10px 8px;border-top:1px solid rgba(100,120,160,.15);text-align:left;vertical-align:top}
  thead th{border-top:none;background:transparent;position:sticky;top:0}
  code,kbd{font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace;background:rgba(120,140,170,.15);padding:.1rem .35rem;border-radius:6px}
  .cta{display:flex;gap:10px;flex-wrap:wrap;align-items:center;justify-content:space-between;background:var(--panel);padding:14px 16px;border-radius:14px;border:1px solid rgba(100,120,160,.12);box-shadow:var(--shadow);margin-top:16px}
  .btn{border:none;border-radius:10px;padding:10px 12px;cursor:pointer;font-weight:700}
  .btn.primary{background:var(--brand);color:#fff}
  .btn.ghost{background:transparent;border:1px solid rgba(100,120,160,.35)}
  .muted-small{color:var(--muted);font-size:.9rem}
  @media print{.toolbar,nav.tabs,.cta,.switch{display:none} .card,.hero{box-shadow:none;border:1px solid #cbd5e1} .wrap{padding:0}}
.brand{display:flex;align-items:center;gap:10px}
.brand img{height:48px;width:auto;border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,.2)}
@media (max-width:480px){.brand img{height:36px}}
</style>
</head>
<body>
<div class="wrap">
  <header class="hero">
    <div class="brand"><img src="assets/logo_sisa.png" alt="SISA Technologies logo"></div>
    <div>
      <h1>Pack INTRANET SISA — v3 (Wi‑Fi)</h1>
      <div class="muted">Mise à jour : 2025-09-15 · HTML autonome (light/dark) · prêt à imprimer · hors-ligne</div>
    </div>
    <div class="toolbar">
      <nav class="tabs" aria-label="Navigation sections">
        <a href="#timeline">Timeline</a>
        <a href="#deploiement">Déploiement</a>
        <a href="#wifi">Wi‑Fi</a>
        <a href="#achats">Achats & Coûts</a>
        <a href="#logiciels">Logiciels</a>
        <a href="#fournisseurs">Fournisseurs</a>
        <a href="#sops">SOP & Sécurité</a>
      </nav>
      <button id="theme" class="switch" aria-label="Basculer thème"></button>
    </div>
  </header>

  <section id="timeline" class="card">
    <h2>Timeline — Jalons clés</h2>
    <div class="grid-2">
      <div>
        <h3>Phase 1 — Go-live Intranet</h3>
        <ul class="list">
          <li>Serveur SISA (R730XD) prêt : RAID1 SSD entreprise, UPS, réseau propre (VLANs).</li>
          <li>Publication site vitrine HTML (Cloudflare Pages/DNS).</li>
          <li>Email Routing + boîtes IMAP (WHC ou autre).</li>
          <li>Workbench & Lanceur intégrés au portail interne.</li>
        </ul>
        <h3>Phase 2 — SISA-IA (v1)</h3>
        <ul class="list">
          <li>Serveur d’inférence central (vLLM/Ollama) + API interne.</li>
          <li>RAG : Qdrant (index), service FastAPI, citations & audit.</li>
          <li>OpenWebUI, gateway Nginx, SSO/quotas.</li>
          <li>Monitoring Prometheus/Grafana.</li>
        </ul>
      </div>
      <div>
        <h3>Phase 3 — Wi‑Fi & Services</h3>
        <ul class="list">
          <li>Déploiement **Wi‑Fi maillé** (AP intérieurs + AP extérieur).</li>
          <li>Kit Cloudflare OSBL/Autonomes/PME (Pages, Turnstile, Analytics).</li>
          <li>VoIP (FreePBX/Asterisk), trunk SIP CA, TLS/SRTP.</li>
          <li>Bundle Ventoy (ISOs + scripts + SHA256).</li>
        </ul>
        <h3>Phase 4 — Évolution</h3>
        <ul class="list">
          <li>Plan GPU (CPU → 1×GPU → 2×GPU).</li>
          <li>App PWA/Capacitor si besoin.</li>
          <li>Marketing : carrousels, “Avantages SISA”, SEO.</li>
        </ul>
      </div>
    </div>
  </section>

  <section id="deploiement" class="card">
    <h2>Déploiement — Architecture & Étapes</h2>
    <h3>Structure réseau</h3>
    <ul class="list">
      <li>VLAN **LAN**, VLAN **IA**, VLAN **GUEST** (Wi‑Fi invité isolé).</li>
      <li>Chemin : ONT/Modem → pfSense → Switch manageable (PoE si possible) → APs & Serveur & Postes.</li>
      <li>QoS : prioriser VoIP, limiter broadcast, activer IGMP Snooping.</li>
      <li>Journalisation append-only; sauvegardes; restauration testée.</li>
    </ul>

    <h3>Étapes (runbook)</h3>
    <ol class="list">
      <li>VLANs (LAN/IA/GUEST) dans pfSense + switch; DHCP par VLAN.</li>
      <li>NAT & règles firewall : inter-VLAN minimal; GUEST → Internet uniquement.</li>
      <li>Déployer APs (voir section Wi‑Fi) + adoption/contrôleur.</li>
      <li>Configurer SSIDs (WPA3/WPA2-mix), minimum RSSI, band steering.</li>
      <li>Tests couverture/performances, ajustement puissance & canaux.</li>
    </ol>
  </section>

  <section id="wifi" class="card">
    <h2>Wi‑Fi — Objectif 250 pieds (≈76 m) à la ronde</h2>
    <div class="grid-2">
      <div>
        <h3>Design recommandé</h3>
        <ul class="list">
          <li><strong>2–3 AP intérieurs Wi‑Fi 6/6E</strong> au plafond (maillage) pour traverser les murs.</li>
          <li><strong>1 AP extérieur</strong> (IP65+) près d’une façade, hauteur ≈3–4 m, pour couvrir la cour.</li>
          <li><strong>Backhaul filaire</strong> préféré (PoE) ; sinon maillage sans fil dédié.</li>
          <li><strong>2.4 GHz</strong> pour portée & murs; <strong>5 GHz</strong> pour débit; 6 GHz si très proche.</li>
          <li>Plan canaux : 2.4 GHz **1/6/11** ; 5 GHz **36/40/44/48** et **149+** ; DFS si stable.</li>
          <li>Transmet puissance modérée (éviter surcharge), **min RSSI** pour “collants”.</li>
          <li><strong>Répéteurs/boosters</strong> : à éviter → préférer APs maillés ou filaires.</li>
        </ul>
        <h3>Sécurité & invités</h3>
        <ul class="list">
          <li>WPA3-Personal (ou WPA2/WPA3 transition si compatibilité).</li>
          <li>SSID **GUEST** isolé (VLAN), portail simple si besoin, débit limité.</li>
          <li>Filtrage IoT (liste autorisée), MAJ firmware régulières.</li>
        </ul>
      </div>
      <div>
        <h3>BOM Wi‑Fi (exemple)</h3>
        <ul class="list">
          <li>2× AP **intérieurs** Wi‑Fi 6 (ou 6E) — plafond.</li>
          <li>1× AP **extérieur** (IP65+, 2.4/5 GHz) — façade.</li>
          <li>Switch **PoE** 8 ports (ou injecteurs PoE ×3).</li>
          <li>Câble **Cat6 extérieur** UV + presse-étoupes + parafoudre ethernet (extérieur→intérieur).</li>
          <li>Support mural/plafond, serre-câbles, boîtes étanches.</li>
        </ul>
        <p class="muted-small">Remarque : l’atteinte de 250 pieds “à la ronde” dépend des obstacles; l’AP extérieur augmente l’aire utile sans pousser la puissance au max (meilleure stabilité).</p>
      </div>
    </div>
  </section>

  <section id="achats" class="card">
    <h2>Achats & Coûts — Estimation (CAD)</h2>
    <p class="muted-small">Ajuste les prix/quantités; le total se sauvegarde localement.</p>
    <div class="grid-2">
      <section class="card" style="margin:0">
        <h3>Matériel prioritaire</h3>
        <table id="costs-now">
          <thead><tr><th>Article</th><th>Qté</th><th>Prix (u.)</th><th>Total</th><th>Plage typique</th></tr></thead>
          <tbody>
            <tr data-key="rack"><td>Étagère serveur / rack</td><td><input type="number" value="1" min="0"></td><td><input class="price" value="120"></td><td class="sum"></td><td>80–160</td></tr>
            <tr data-key="ups"><td>UPS 900–1500 VA</td><td><input type="number" value="1" min="0"></td><td><input class="price" value="80"></td><td class="sum"></td><td>40–180</td></tr>
            <tr data-key="ssd"><td>SSD entreprise (×2) RAID1</td><td><input type="number" value="2" min="0"></td><td><input class="price" value="70"></td><td class="sum"></td><td>40–120</td></tr>
            <tr data-key="caddies"><td>Caddies R730XD (×4)</td><td><input type="number" value="4" min="0"></td><td><input class="price" value="15"></td><td class="sum"></td><td>10–20</td></tr>
            <tr data-key="ventoy"><td>Clé USB Ventoy 128–256 Go</td><td><input type="number" value="1" min="0"></td><td><input class="price" value="25"></td><td class="sum"></td><td>15–35</td></tr>
            <tr data-key="nvme"><td>Boîtier NVMe USB + SATA/USB</td><td><input type="number" value="1" min="0"></td><td><input class="price" value="35"></td><td class="sum"></td><td>20–50</td></tr>
            <tr data-key="labels"><td>Étiqueteuse + rubans</td><td><input type="number" value="1" min="0"></td><td><input class="price" value="45"></td><td class="sum"></td><td>30–60</td></tr>
            <tr data-key="ties"><td>Serre-câbles/Velcro/gaine</td><td><input type="number" value="1" min="0"></td><td><input class="price" value="15"></td><td class="sum"></td><td>10–25</td></tr>
          </tbody>
          <tfoot><tr><th colspan="3">Sous-total “Maintenant”</th><th id="subtotal-now"></th><th></th></tr></tfoot>
        </table>
      </section>
      <section class="card" style="margin:0">
        <h3>Wi‑Fi & Réseau (Bientôt)</h3>
        <table id="costs-later">
          <thead><tr><th>Article</th><th>Qté</th><th>Prix (u.)</th><th>Total</th><th>Plage typique</th></tr></thead>
          <tbody>
            <tr data-key="ap-int"><td>APs intérieurs Wi‑Fi 6 (ou 6E)</td><td><input type="number" value="2" min="0"></td><td><input class="price" value="140"></td><td class="sum"></td><td>110–220</td></tr>
            <tr data-key="ap-ext"><td>AP extérieur (IP65+, 2.4/5 GHz)</td><td><input type="number" value="1" min="0"></td><td><input class="price" value="190"></td><td class="sum"></td><td>150–280</td></tr>
            <tr data-key="poe"><td>Switch PoE 8 ports</td><td><input type="number" value="1" min="0"></td><td><input class="price" value="160"></td><td class="sum"></td><td>120–260</td></tr>
            <tr data-key="inj"><td>Injecteurs PoE (si pas de switch PoE)</td><td><input type="number" value="0" min="0"></td><td><input class="price" value="25"></td><td class="sum"></td><td>20–40</td></tr>
            <tr data-key="cat6"><td>Cat6 extérieur UV + presse-étoupes</td><td><input type="number" value="30" min="0"></td><td><input class="price" value="1.2"></td><td class="sum"></td><td>0.8–1.5 /m</td></tr>
            <tr data-key="surge"><td>Parafoudre Ethernet (extérieur→intérieur)</td><td><input type="number" value="1" min="0"></td><td><input class="price" value="35"></td><td class="sum"></td><td>25–60</td></tr>
            <tr data-key="mount"><td>Supports/plafond & boîtes étanches</td><td><input type="number" value="3" min="0"></td><td><input class="price" value="15"></td><td class="sum"></td><td>10–25</td></tr>
            <tr data-key="switch"><td>Switch manageable (non‑PoE si injecteurs)</td><td><input type="number" value="0" min="0"></td><td><input class="price" value="100"></td><td class="sum"></td><td>60–140</td></tr>
          </tbody>
          <tfoot><tr><th colspan="3">Sous-total “Wi‑Fi & Réseau”</th><th id="subtotal-later"></th><th></th></tr></tfoot>
        </table>
      </section>
    </div>
    <div class="cta">
      <div><strong>Total estimé</strong> : <span id="grand-total">—</span> CAD <span class="muted-small">(hors taxes/expédition)</span></div>
      <div><button class="btn ghost" id="resetCosts">Réinitialiser</button> <button class="btn primary" id="saveCosts">Sauvegarder</button></div>
    </div>
  </section>

  <section id="logiciels" class="card">
    <h2>Logiciels requis — Intranet SISA</h2>
    <div class="grid-2">
      <div>
        <h3>Base & Réseau</h3>
        <ul class="list">
          <li>pfSense (routeur/firewall), switch manageable (VLAN/LACP).</li>
          <li>Contrôleur Wi‑Fi (selon marque) — ou adoption “standalone”.</li>
          <li>WireGuard / Tailscale (VPN admin).</li>
          <li>Nginx (gateway), Keycloak (SSO/MFA).</li>
          <li>RustDesk (support distant) — côté clients.</li>
        </ul>
        <h3>IA & RAG</h3>
        <ul class="list">
          <li>vLLM (serving OpenAI-like) + Ollama (maquettes).</li>
          <li>Qdrant (vecteurs), FastAPI (service RAG), OpenWebUI.</li>
          <li>Prometheus + Grafana (observabilité).</li>
        </ul>
      </div>
      <div>
        <h3>Ops & Sauvetage</h3>
        <ul class="list">
          <li>Ventoy + ISOs (SystemRescue, Rescuezilla, Clonezilla, GParted, Ubuntu LTS, Memtest86+).</li>
          <li>HWiNFO / Libre Hardware Monitor, smartmontools.</li>
          <li>rsync/rclone, scripts SHA256 (manifest).</li>
        </ul>
        <h3>Web & OSBL/PME</h3>
        <ul class="list">
          <li>Cloudflare Pages/DNS, Turnstile, Web Analytics, Email Routing.</li>
          <li>WHC (WordPress/PHP & email) pour besoins dynamiques au Canada.</li>
          <li>SEO statique : sitemap/robots/OG/JSON-LD (gabarits).</li>
        </ul>
      </div>
    </div>
  </section>

  <section id="fournisseurs" class="card">
    <h2>Fournisseurs repères (QC/Canada)</h2>
    <div class="grid-3">
      <div class="card" style="margin:0">
        <h3>Reconditionné / Social</h3>
        <ul class="list">
          <li><strong>Insertech</strong> (Montréal) — PC/serveurs/équipements refurb.</li>
          <li><strong>OPEQ</strong> — Ordinateurs pour écoles/organismes (occasion).</li>
          <li><strong>GCSurplus</strong> — Surplus gouvernemental (enchères).</li>
        </ul>
      </div>
      <div class="card" style="margin:0">
        <h3>Refurb & Retail</h3>
        <ul class="list">
          <li><strong>Refurb.io</strong> — Ordinateurs remis à neuf.</li>
          <li><strong>CDW Outlet</strong> — Liquidations pro.</li>
          <li><strong>OpenBox</strong> — Boîtes ouvertes/retours.</li>
        </ul>
      </div>
      <div class="card" style="margin:0">
        <h3>Liquidation & Surplus</h3>
        <ul class="list">
          <li><strong>Direct Liquidation</strong>, <strong>TechLiquidators</strong>, <strong>B-Stock</strong>.</li>
          <li><strong>Quantum Lifecycle</strong> — recyclage/remarketing.</li>
          <li><strong>Curvature/Cisco Refresh</strong> — réseau reconditionné.</li>
        </ul>
      </div>
    </div>
  </section>

  <section id="sops" class="card">
    <h2>SOP & Sécurité (extraits SISA-Way)</h2>
    <table>
      <thead><tr><th>Thème</th><th>Règles</th></tr></thead>
      <tbody>
        <tr><td>Format & diffusion</td><td>HTML-first (autonome); naming CAR-YYYYMMDD-…; changelog; accessibilité AA.</td></tr>
        <tr><td>Sécurité & conformité</td><td>RBAC/SSO/MFA; lecture seule par défaut; double confirmation; secrets en coffre; rotation 90 j; redaction en sortie.</td></tr>
        <tr><td>Qualité & évaluation</td><td>Citations obligatoires côté RAG; “Je ne sais pas” si score faible; métriques précision/latence/coûts.</td></tr>
        <tr><td>Environnements & changements</td><td>Sandbox → Pré-prod → Prod; feature flags; rollback 1-clic; plan incident & escalade.</td></tr>
        <tr><td>Données & index</td><td>Ingestion normalisée; métadonnées; backups réguliers (vecteurs+bruts); restauration testée.</td></tr>
        <tr><td>Collaboration & gouvernance</td><td>HITL pour brouillons; review bi-hebdo; design tokens SISA.</td></tr>
      </tbody>
    </table>
  </section>

  <footer class="muted" style="margin-top:18px">© SISA — Pack Intranet v3 (Wi‑Fi). Généré le : 2025-09-15</footer>
</div>

<script>
// Theme toggle
(function(){
  const html = document.documentElement;
  const btn = document.getElementById('theme');
  const stored = localStorage.getItem('theme');
  if(stored) html.setAttribute('data-theme', stored);
  if(!stored && window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches){
    html.setAttribute('data-theme','dark');
  }
  btn.addEventListener('click', ()=>{
    const now = html.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
    html.setAttribute('data-theme', now);
    localStorage.setItem('theme', now);
  });
})();

// Cost calculator (persists locally)
(function(){
  const KEY = 'sisa_costs_v2';
  const tables = [document.getElementById('costs-now'), document.getElementById('costs-later')];
  function fmt(n){ return (Math.round(n*100)/100).toFixed(2); }

  function calc(){
    let g = 0;
    tables.forEach((t)=>{
      let s = 0;
      t.querySelectorAll('tbody tr').forEach(tr=>{
        const qty = parseFloat(tr.querySelector('td:nth-child(2) input').value||'0');
        const pu = parseFloat(tr.querySelector('.price').value||'0');
        const tot = qty * pu;
        tr.querySelector('.sum').textContent = fmt(tot);
        s += tot;
      });
      const id = t.id==='costs-now' ? 'subtotal-now' : 'subtotal-later';
      document.getElementById(id).textContent = fmt(s);
      g += s;
    });
    document.getElementById('grand-total').textContent = fmt(g);
  }

  function save(){
    const data = {};
    tables.forEach(t=>{
      const rows = {};
      t.querySelectorAll('tbody tr').forEach(tr=>{
        rows[tr.getAttribute('data-key')] = {
          qty: tr.querySelector('td:nth-child(2) input').value,
          price: tr.querySelector('.price').value
        };
      });
      data[t.id] = rows;
    });
    localStorage.setItem(KEY, JSON.stringify(data));
  }

  function load(){
    const raw = localStorage.getItem(KEY); if(!raw) { calc(); return; }
    try{
      const data = JSON.parse(raw);
      tables.forEach(t=>{
        const rows = data[t.id]||{};
        t.querySelectorAll('tbody tr').forEach(tr=>{
          const key = tr.getAttribute('data-key');
          if(rows[key]){
            tr.querySelector('td:nth-child(2) input').value = rows[key].qty;
            tr.querySelector('.price').value = rows[key].price;
          }
        });
      });
      calc();
    }catch(e){ calc(); }
  }

  document.addEventListener('input', (e)=>{
    if(e.target.closest('#costs-now,#costs-later')){
      calc(); save();
    }
  });

  document.getElementById('resetCosts').addEventListener('click', ()=>{
    if(confirm('Réinitialiser les coûts ?')){
      localStorage.removeItem(KEY);
      location.reload();
    }
  });
  document.getElementById('saveCosts').addEventListener('click', save);

  load();
})();
</script>
</body>
</html>
